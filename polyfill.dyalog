:Namespace p_⍝github.com/abrudz/polyfill
I←{⍵⌷⍨∘⊃⍤0 99⊢⍺}⋄V←{⍺←⊢⋄⍵I⍨⍺⍒⍵}⋄A←{⍺←⊢⋄⍵I⍨⍺⍋⍵}⋄F←{⍺⌿⍵}⋄E←{⍺⍀⍵}⋄R←{(⌊⍣(¯1∊⍺)⌈⍣(¯3≥⌊/⍺)⊢((×/⍴⍵)÷×/⍺/⍨0<⍺)@{0>⍵}⍺)⍴⍵⍪(¯4∊⍺)⌿⊃⍬⍴0⍴⊂⍵}⋄S←{'\$\{[^$}]+\}'⎕R{⍕(⊃⎕RSI)2↓¯1↓⍵.Match}⍣≡⍵}⋄ë←{⍺←⊢⋄0∊⍺,⍥⍴⍵:(⍺⌈⍥⍴⍵)⍴⎕NS⍬⋄×⎕NC'⍺':⍺⍺⍺¨⍵⋄⍺⍺¨⍵}⋄Ö←{⍺←{⍵⋄⍺⍺}⋄n←0>k←⌽3⍴⌽⍵⍵⋄k←0⌈k+n×d←|≡¨3⍴⍵⍺⍵ ⍵⋄a←⍺⋄3 4∊⍨⎕NC'a':⍺⍺{⍵⍵<|≡⍵:∇¨⍵⋄⍺⍺⍵}(⊃k)⊢⍵⋄⍱/b←1↓k<d:⊢⍺ ⍺⍺⍵⋄</b:⊢⍺∘∇¨⍵⋄>/b:∇∘⍵¨⊢⍺∧/b:⊢⍺∇¨⍵}
:EndNamespace
